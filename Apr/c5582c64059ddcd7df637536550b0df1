A Manhattan mom discovered an embarrassing glitch in the city Department of Education lottery system used to match students with middle and high schools. When NYC students filled out their online applications for 2022-23, each kid automatically received a long string of random numbers from 0 to 9 mixed with lower-case letters from a to f. The random numbers are used to determine the order in which students are matched to programs. Lottery numbers starting with 0 are most likely to land students in a school at the top of their list – 8th graders can rank up to 12 preferred high schools. The odds go down from there.  Lottery assignments starting with higher numbers and letters are the least favorable. But as one 8th-grader’s mom figured out, if students canceled and re-started their applications – as the DOE permitted – they received a different lottery number each time. The loophole allowed users to potentially game the system by simply re-applying until a favorable lottery number popped up. Parent leaders alerted the DOE’s Chief Enrollment Officer, Sarah Kleinhandler, who was unaware of the snafu and promised to look into it. She did. Last week, the DOE insisted “there is no glitch in our system” –  but said it will be fixed. The DOE said it was able to identify 163 students who received new lottery numbers – less than 1 percent of applicants. They included 121 students out of 71,000 high-school applicants, and 42 students out of 58,000 middle school applicants, a spokesman said. Students who received new lottery numbers after restarting their applications will get their first lottery numbers back, a spokeswoman told The Post. “We are taking action. We are reverting those students’ lottery numbers to their originally generated numbers. Affected families will be notified directly.” The Manhattan mom noticed the original 32-digit lottery number her daughter received on Feb. 26  started with “03” – which she learned was likely to give her daughter first dibs on schools at the top of her list. The mom then decided her daughter should re-do her list by putting more desirable schools at the top. But when they canceled the application and re-started it on March 10,  a new lottery number appeared. That one began with “ce,” much less lucky than the first. Four days later, on March 14, they canceled and re-started again, this time getting a random number that started with “50,” which wasn’t as good as the first number they got, but much better than the second. The Manhattan mom, who kept time-stamped screenshots of the three lottery numbers,  spread the word about her surprising discovery, generating concern. “This year, savvy parents might have figured this out and re-set their child’s application if they received a poor lottery number,” a PTA-active dad told The Post. “Other parents may have started with a good lottery number and changed to a worse one without realizing it.” A Queens high school teacher was alarmed: “Parents discovered a tech glitch allowing them to keep trying to get better lottery numbers. If even only one family used this process to circumvent the system, the entire process needs to be thrown out and redone.” DOE  officials said they will “rectify” the problem by removing the cancel feature in future admissions cycles. Students can still change or rearrange the schools listed on their application without canceling and restarting. Admissions guru Alina Adams, author of “Getting into NYC High School,” has helped parents deal with numerous DOE application defects in recent years. “The system is not set up to handle any kind of glitch,” she said,” And when they try to fix them, they inevitably make things worse. It’s a recipe for disaster.” DOE students are expected to get their school matches in June.