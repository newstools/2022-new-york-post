They pledged allegiance to the flag. Dozens of overjoyed immigrants were granted US citizenship Friday during a pre-Independence Day naturalization ceremony at the New York Public Library, where they triumphantly waved hand-held flags and took the Oath of Allegiance. A total of 40 immigrants from 22 countries — including Ukraine, China and the Philippines — beamed, clapped and snapped celebratory selfies after they were awarded certificates of naturalization ahead of America’s 246th birthday. Freshly minted citizen Maiza Moone, a mother of three from the Philippines, grinned as her young son, Alexander, gleefully gripped Old Glory on the rooftop of the Manhattan library. “Today is truly a celebration — not just of the start of our country, its ideals and its history. But also of its future as we welcome this next generation of American immigrants,” said Scott Velez,  Deputy District Director of United States Citizenship and Immigration Services. At the ceremony, Sheanni Erin Velayo Chua, a member of the Navy who hails from the Philippines, held her certificate of citizenship up with pride while Ukrainian native Andril Melnyk, who is a solider in the US Army’s 10th Mountain division, took his oath solemnly. Other military members granted citizenship hailed from countries including Ghana, Japan, Colombia, Sweden, and Mali.